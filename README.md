__没有声明明确的权限等级和角色关系，但是应当预留权限字段和校验中间函数__

# 主系统
## 角色
全校人员+
 - 班级+人脸照片=学生
 - 教职工=教师
## 资产
1. 宿舍
## 设备
1. 人脸自助采集终端（需要研发）
2. 考勤点（学院根据实际应用场景选择不同的考勤点设备和配置方式。）
    - 存放有照片用来比对
3. 通行点
>__问题：如何实现学生不同通行方式的数据采集__
## 日志
### 功能日志
> 在将人员照片下发到对应的前端设备时
1. 下发记录
   - 操作员ID
   - 下发任务ID
   - 考勤点ID
   - 考勤点信息
   - 下发状态
     - 下发中
     - 下发成功
     - 下发失败
2. 下发详情
   - 下发任务ID
   - （学生信息照片等）
### 设备日志
1. 考勤日志
   - 考勤点Id
   - 考勤时间
   - 考勤对象
   - 考勤时间 -> 考前状态
     - 正常 ——在“归寝时间”范围内归寝；
     - 晚归 ——晚于“归寝时间”未超 过“晚归时间”归寝
     - 未归 ——超过“晚归时间”仍未归寝，
     - 违规出寝 ——超过归寝时间后至 **自定义的一个时间点** 内有出寝记录的行为
    - 考勤异常记录
>__功能：将异常发送给考勤点负责人__

## 数据与管理
>__功能：人员信息的导入__
>
> - Excel数据文件导入
> - 平台数据交换中间件

1. 组织（-增-删-改-查-） (人员可被分配多个组织）
   - 组织名称
   - 描述
>__功能:快速添加人员分组__
>
>可按规则（学历、证件类型、婚姻状 况等满足一定条件）快速添加人员分组
1. 班级 （-查-）
   - 院系信息
   - 专业信息
   - 班级信息
   - 人数信息
2. 职教工 人员（-查-）（支持快速分组）
   - 人员姓名
   - 人脸照片
   - 工作职位
   - 所属部门
   -  （组织|多个）
3. 全校 人员 （-增-删-改-查-）（支持快速分组）
   - 学工号
   - 姓名
   - 性别
   - 证件类型
   - 证件号码
   - 院系
   - 年级
   - 班级
   - 联系电话
   - 电子邮件
   - 有效期
   - 授权状态
        - 已授权
        - 未授权
   -  （组织|多个）
   -  （自定义字段|5）
>__功能:回收站__
>
>可以恢复删除的人员信息

4. 人脸照片
   - 学工号
   - 照片

5. 宿舍楼栋（-增-删-改-查-）
   - 楼栋名称
   - 编号
   - 楼层数
   - 每层宿舍数量
   - 宿舍最大可住人数
   - 考勤点ID
>__功能:批量导入导出？Excel__

1. 考勤点（-增-删-改-查-）
   - 考勤点ID
   - 考勤对象（List）
   - 考勤负责人
   - 违规出寝时间点
>违规出寝 ——超过归寝时间后至 **自定义的一个时间点** 内有出寝记录的行为
   
1. 考勤异常信息
    - 类型
    - 文本

2. 节假日（-增-删-改-查-）
   - 节日
>__功能:暂停考勤__
   - 假期
>__功能:暂停考勤__
>
>__功能:检测独居学生  功能:提醒辅导员__
>
>__此功能适用于‘宅男宅女’推送__ 设置超过固定天数只有一人通行的情况 
下为独居人员，（人员进出统计模块（考勤点））此部分人员需要提醒 辅导老师=考情负责人  重点关注在校内情况，保障学生假期期间在校安全。
9. 独居人员
 - 学号

10.  学生和教职工通行记录（-查-）
     - 学工号
     - 通行时间
     - 进出类型（进还是出）
     - 通行方式
     - 通行的宿舍区域
     - 现场抓拍图

11.  请假登记（-增-删-改-查-）
     - 请假人姓名
     - 请假人学工号
     - 请假开始时间
     - 请假结束时间
     - 请假类型

12. 违规出寝
>在完成学生归寝“晚点名”之后，存在一些学生再次出寝情况， 
此时由于已经完成了考勤统计，在系统中数据属于已考勤人员， 其 
外出后老师无法及时获悉，存在一定的安全隐患。宿管系统通 过将 
此类人员实时记录下来并提供查询功能，
# 辅助系统
## 人脸照片上传app
### 功能
  - 拍照上传人脸照片
  - 支持二维码
## 微信公众号移动端查询
- 查看学生实时归寝数据和考勤统计数据
- 接受异常推送
- 查寝提供实时归寝概况统计
- 实时视频预览
- 录像回放
- 考勤结果查询
- 实时归寝查询
- 请假管理  （-增-删-改-查-）
- 来访人员管理

